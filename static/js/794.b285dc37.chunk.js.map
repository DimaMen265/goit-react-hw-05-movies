{"version":3,"file":"static/js/794.b285dc37.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesDetails/MoviesDetails.module.css?629c","components/MoviesDetails/MoviesDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"moviesDetailsContainer\":\"MoviesDetails_moviesDetailsContainer__TiGe0\",\"moviesDetailsTitle\":\"MoviesDetails_moviesDetailsTitle__jnTpz\",\"infoText\":\"MoviesDetails_infoText__Omv-d\",\"pageList\":\"MoviesDetails_pageList__fcjKN\"};","import { getMovieDetails, DEF_PATH_IMAGE, DEF_POSTER_SIZE } from \"components/api\";\nimport { useState, useEffect, useRef, Suspense } from \"react\";\nimport { useParams, useLocation, Link, Outlet } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { styled } from \"styled-components\";\nimport styles from \"./MoviesDetails.module.css\";\n\nconst BackLink = styled(Link)`\n  color: orange;\n  background-color: white;\n  border: 1px solid orange;\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  width: 120px;\n  margin-bottom: 16px;\n  transition: color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    background-color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    border 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    color: white;\n    background-color: orange;\n    border: none;\n  }\n`;\n\nconst PageLink = styled(Link)`\n  color: orange;\n  background-color: white;\n  border: 1px solid orange;\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  width: 120px;\n  transition: color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    background-color 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    border 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    color: white;\n    background-color: orange;\n    border: none;\n  }\n`;\n\nconst MoviesDetails = () => {\n    const { movieId } = useParams();\n    const [details, setDetails] = useState(null);\n    const location = useLocation();\n    const backLink = useRef(location.state?.from ?? \"/\");\n\n    useEffect(() => {\n        const abortController = new AbortController();\n\n        const getDetails = async (id, abortController) => {\n            try {\n                const result = await getMovieDetails(id, abortController);\n                setDetails(result.data)\n            } catch (error) {\n                if (error.message !== \"canceled\") {\n                    toast.error(error.message);\n                };\n            };\n        };\n\n        getDetails(movieId, abortController);\n\n        return () => {\n            abortController.abort();\n        };\n    }, [movieId]);\n\n    return (\n        <main>\n            {\n                details &&\n                (\n                    <div>\n                        <BackLink to={backLink.current}>Go back</BackLink>\n\n                        <div className={styles.moviesDetailsContainer}>\n                            <div>\n                                <img src={`${DEF_PATH_IMAGE}${DEF_POSTER_SIZE}${details.poster_path}`} alt={details.title} />\n                            </div>\n\n                            <div>\n                                <h1 className={styles.moviesDetailsTitle}>\n                                    {details.title} ({details.release_date.split(\"-\")[0]})\n                                </h1>\n                                <p className={styles.infoText}>User score: {Math.round(details.vote_average * 10)}%</p>\n\n                                <h2 className={styles.moviesDetailsTitle}>Overview</h2>\n                                <p className={styles.infoText}>{details.overview}</p>\n\n                                <h2 className={styles.moviesDetailsTitle}>Genres</h2>\n                                <p className={styles.infoText}>{details.genres.map(genre => genre.name).join(\" \")}</p>\n                            </div>\n                        </div>\n\n                        <ul className={styles.pageList}>\n                            <li>\n                                <PageLink to=\"cast\">Cast</PageLink>\n                            </li>\n                            <li>\n                                <PageLink to=\"reviews\">Reviews</PageLink>\n                            </li>\n                        </ul>\n\n                        <Suspense fallback={<div>Loading...</div>}>\n                            <Outlet />\n                        </Suspense>\n                    </div>\n                )\n            }\n        </main>\n    );\n};\n\nexport default MoviesDetails;\n"],"names":["BackLink","styled","Link","_templateObject","_taggedTemplateLiteral","PageLink","_templateObject2","_location$state$from","_location$state","movieId","useParams","_useState","useState","_useState2","_slicedToArray","details","setDetails","location","useLocation","backLink","useRef","state","from","useEffect","abortController","AbortController","getDetails","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","id","result","_context","prev","next","getMovieDetails","sent","data","t0","message","toast","stop","_x","_x2","apply","arguments","abort","_jsx","children","_jsxs","to","current","className","styles","src","concat","DEF_PATH_IMAGE","DEF_POSTER_SIZE","poster_path","alt","title","release_date","split","Math","round","vote_average","overview","genres","map","genre","name","join","Suspense","fallback","Outlet"],"sourceRoot":""}