"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[653],{5653:function(e,t,r){r.r(t),r.d(t,{default:function(){return k}});var a=r(5861),s=r(9439),n=r(7757),c=r.n(n),i=r(5805),o=r(2791),l=r(1087),u=r(7689),h=r(8174),m=r(5705),_=r(6727),f="Movies_searchForm__S-9T7",p="Movies_searchInput__+E-Mw",d="Movies_searchButton__VlmGO",v="Movies_searchList__6eDvk",x="Movies_searchItem__aEEd+",j="Movies_searchText__+ZzX-",S=r(184),g=(0,_.Ry)({searchString:(0,_.Z_)().required()}),k=function(){var e=(0,o.useState)(),t=(0,s.Z)(e,2),r=t[0],n=t[1],_=(0,l.lr)(),k=(0,s.Z)(_,2),b=k[0],w=k[1],M=(0,u.TH)(),N=function(e){w(""!==e?{search:e}:{})};return(0,o.useEffect)((function(){var e=new AbortController,t=b.get("search");if(t){var r=function(){var e=(0,a.Z)(c().mark((function e(t,r){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.V0)(t,r);case 3:a=e.sent,n(a.data.results),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),"canceled"!==e.t0.message&&h.Am.error(e.t0.message);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}();return r(t,e),function(){e.abort()}}n(null)}),[b]),(0,S.jsxs)("main",{children:[(0,S.jsx)(m.J9,{initialValues:{searchString:""},onSubmit:function(e){N(e.searchString.trim())},validationSchema:g,children:(0,S.jsxs)(m.l0,{className:f,children:[(0,S.jsx)(m.gN,{type:"text",name:"searchString",placeholder:"Search movies",className:p}),(0,S.jsx)("button",{type:"submit",className:d,children:"Search"})]})}),(0,S.jsx)("ul",{className:v,children:r&&r.map((function(e){return(0,S.jsx)("li",{className:x,children:(0,S.jsxs)(l.rU,{to:"/movies/".concat(e.id),state:{from:M},children:[(0,S.jsx)("img",{src:"".concat(i.aF).concat(i.Z8).concat(e.poster_path),alt:e.title}),(0,S.jsx)("p",{className:j,children:e.title})]})},e.id)}))})]})}}}]);
//# sourceMappingURL=653.0aafcf15.chunk.js.map